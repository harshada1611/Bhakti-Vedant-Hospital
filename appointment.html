<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment | MediCare Hospital</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Appointment page specific styles */
        .appointment-container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            padding: 40px;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }
        
        .appointment-title {
            text-align: left;
            margin-bottom: 30px;
        }
        
        .appointment-title h2 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .appointment-info {
            background: var(--secondary);
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .info-icon {
            color: var(--primary);
            margin-right: 15px;
            font-size: 1.2rem;
            width: 30px;
        }
        
        .emergency-box {
            background: #ffeaea;
            border-left: 4px solid var(--accent);
            padding: 20px;
            margin: 30px 0;
            border-radius: 4px;
        }
        
        .emergency-box h4 {
            color: var(--accent);
            margin-bottom: 10px;
        }
        
        .confirmation {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            display: none;
        }
        
        .confirmation.show {
            display: block;
        }
        
        .confirmation h4 {
            color: #2e7d32;
            margin-bottom: 10px;
        }
        
        .required {
            color: var(--accent);
        }
        
        .form-note {
            font-size: 0.9rem;
            color: var(--light-text);
            margin-top: 20px;
            text-align: center;
        }
        
        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .time-slot {
            background: var(--white);
            border: 2px solid var(--border);
            padding: 10px;
            text-align: center;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .time-slot:hover, .time-slot.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        @media (max-width: 768px) {
            .appointment-container {
                padding: 25px 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                <div class="logo-icon"><i class="fas fa-hospital"></i></div>
                <div class="logo-text">Medi<span>Care</span></div>
            </a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="services.html">Services & Facilities</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="doctors.html">Doctors & Team</a></li>
                    <li><a href="appointment.html" class="active">Appointment</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1>Book an Appointment</h1>
                <p>Schedule your visit with our healthcare specialists conveniently online.</p>
            </div>
        </section>
        
        <section class="page-content">
            <div class="container">
                <div class="appointment-container">
                    <div class="appointment-title">
                        <h2>Appointment Form</h2>
                        <p>Please fill out the form below to book your appointment. We'll contact you to confirm.</p>
                    </div>
                    
                    <!-- Appointment Information -->
                    <div class="appointment-info">
                        <h3><i class="fas fa-info-circle"></i> Important Information</h3>
                        <div class="info-item">
                            <div class="info-icon"><i class="fas fa-clock"></i></div>
                            <div>
                                <strong>Working Hours:</strong> Monday to Friday, 8:00 AM - 8:00 PM
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon"><i class="fas fa-user-md"></i></div>
                            <div>
                                <strong>Doctor Availability:</strong> Varies by specialist. Weekend appointments available for emergencies.
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon"><i class="fas fa-file-medical"></i></div>
                            <div>
                                <strong>Documents Required:</strong> ID proof, insurance details, previous medical records (if any)
                            </div>
                        </div>
                    </div>
                    
                    <!-- Emergency Notice -->
                    <div class="emergency-box">
                        <h4><i class="fas fa-exclamation-triangle"></i> For Medical Emergencies</h4>
                        <p>If you are experiencing a medical emergency, please call our emergency number immediately or visit our emergency department directly. Do not wait for an appointment.</p>
                        <div class="emergency-phone" style="font-size: 1.5rem; margin-top: 10px;">
                            <i class="fas fa-phone-alt"></i> <strong>Emergency: (123) 456-7891</strong>
                        </div>
                    </div>
                    
                    <!-- Appointment Form -->
                    <form id="appointmentForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fullName">Full Name <span class="required">*</span></label>
                                <input type="text" id="fullName" class="form-control" placeholder="Enter your full name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone">Phone Number <span class="required">*</span></label>
                                <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email Address <span class="required">*</span></label>
                                <input type="email" id="email" class="form-control" placeholder="Enter your email address" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="dob">Date of Birth <span class="required">*</span></label>
                                <input type="date" id="dob" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="department">Select Department <span class="required">*</span></label>
                                <select id="department" class="form-control" required>
                                    <option value="">Select a department</option>
                                    <option value="cardiology">Cardiology</option>
                                    <option value="orthopedics">Orthopedics</option>
                                    <option value="neurology">Neurology</option>
                                    <option value="pediatrics">Pediatrics</option>
                                    <option value="dermatology">Dermatology</option>
                                    <option value="emergency">Emergency Care</option>
                                    <option value="surgery">General Surgery</option>
                                    <option value="ent">ENT</option>
                                    <option value="ophthalmology">Ophthalmology</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="doctor">Preferred Doctor (Optional)</label>
                                <select id="doctor" class="form-control">
                                    <option value="">Any available doctor</option>
                                    <option value="dr-johnson">Dr. Sarah Johnson (Cardiology)</option>
                                    <option value="dr-chen">Dr. Michael Chen (Orthopedics)</option>
                                    <option value="dr-rodriguez">Dr. Emily Rodriguez (Neurology)</option>
                                    <option value="dr-wilson">Dr. James Wilson (Pediatrics)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="appointmentDate">Preferred Date <span class="required">*</span></label>
                                <input type="date" id="appointmentDate" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label>Preferred Time Slot <span class="required">*</span></label>
                                <div class="time-slots">
                                    <div class="time-slot" data-time="morning">Morning</div>
                                    <div class="time-slot" data-time="afternoon">Afternoon</div>
                                    <div class="time-slot" data-time="evening">Evening</div>
                                </div>
                                <input type="hidden" id="selectedTime" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="appointmentType">Appointment Type</label>
                            <select id="appointmentType" class="form-control">
                                <option value="consultation">Consultation</option>
                                <option value="followup">Follow-up</option>
                                <option value="test">Diagnostic Test</option>
                                <option value="surgery">Surgery Consultation</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="symptoms">Symptoms or Reason for Visit</label>
                            <textarea id="symptoms" class="form-control" placeholder="Briefly describe your symptoms or reason for the appointment"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="insurance">Insurance Provider (If Applicable)</label>
                            <input type="text" id="insurance" class="form-control" placeholder="Insurance company name">
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="terms" required>
                                I agree to the <a href="#" style="color: var(--primary);">terms and conditions</a> and understand that this is a booking request. <span class="required">*</span>
                            </label>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">Submit Appointment Request</button>
                        
                        <div class="form-note">
                            <p>We will contact you within 24 hours to confirm your appointment. For urgent appointments, please call our reception.</p>
                        </div>
                    </form>
                    
                    <!-- Confirmation Message -->
                    <div class="confirmation" id="confirmationMessage">
                        <h4><i class="fas fa-check-circle"></i> Appointment Request Submitted Successfully!</h4>
                        <p>Thank you for booking an appointment with MediCare Hospital. We have received your request and will contact you at the provided phone number within 24 hours to confirm your appointment details.</p>
                        <p><strong>Reference Number:</strong> <span id="referenceNumber">MC-2023-00123</span></p>
                        <p>Please keep this reference number for future correspondence.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MediCare Hospital</h3>
                    <p>Providing compassionate, high-quality healthcare services to our community for over 25 years.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="doctors.html">Doctors</a></li>
                        <li><a href="appointment.html">Appointment</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <ul class="footer-links contact-info-list">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Medical Center Drive</li>
                        <li><i class="fas fa-phone"></i> (123) 456-7890</li>
                        <li><i class="fas fa-envelope"></i> info@medicarehospital.com</li>
                        <li><i class="fas fa-clock"></i> Mon-Fri: 8 AM - 8 PM</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 MediCare Hospital. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
document.addEventListener('DOMContentLoaded', function() {

    const appointmentForm = document.getElementById("appointmentForm");
    const timeSlots = document.querySelectorAll('.time-slot');
    const selectedTimeInput = document.getElementById('selectedTime');

    // ================= TIME SLOT SELECTION =================
    timeSlots.forEach(slot => {
        slot.addEventListener('click', function() {
            timeSlots.forEach(s => s.classList.remove('selected'));
            this.classList.add('selected');
            selectedTimeInput.value = this.getAttribute('data-time');
        });
    });

    // ================= FORM SUBMIT =================
    appointmentForm.addEventListener("submit", function(e) {
        e.preventDefault();

        if (!selectedTimeInput.value) {
            alert("Please select time slot");
            return;
        }

        // ðŸ”¥ DATA OBJECT (THIS GOES TO SPRING BOOT)
        const appointmentData = {
            fullName: document.getElementById("fullName").value,
            phone: document.getElementById("phone").value,
            email: document.getElementById("email").value,
            dob: document.getElementById("dob").value,
            department: document.getElementById("department").value,
            doctor: document.getElementById("doctor").value,
            appointmentDate: document.getElementById("appointmentDate").value,
            timeSlot: selectedTimeInput.value,
            appointmentType: document.getElementById("appointmentType").value,
            symptoms: document.getElementById("symptoms").value,
            insurance: document.getElementById("insurance").value
        };

        // ðŸ”¥ BACKEND CALL
        fetch("http://localhost:8080/api/appointments", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(appointmentData)
        })
        .then(response => {
            if (!response.ok) {
                throw new Error("Server Error");
            }
            return response.json();
        })
        .then(data => {
            alert("Appointment Booked Successfully!");
            appointmentForm.reset();
            timeSlots.forEach(s => s.classList.remove('selected'));
            selectedTimeInput.value = "";
        })
        .catch(error => {
            alert("Backend Error! Check Spring Boot Server");
            console.error(error);
        });
    });

});
</script>


    <!-- Add this just before </body> tag -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mainNav = document.getElementById('mainNav');
    
    if (mobileMenuBtn && mainNav) {
        mobileMenuBtn.addEventListener('click', function() {
            mainNav.classList.toggle('active');
            
            // Change icon between bars and X
            const icon = this.querySelector('i');
            if (icon.classList.contains('fa-bars')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });
        
        // Close menu when clicking on a link
        const navLinks = document.querySelectorAll('#mainNav a');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                mainNav.classList.remove('active');
                const icon = mobileMenuBtn.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            });
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            if (!mainNav.contains(event.target) && 
                !mobileMenuBtn.contains(event.target) && 
                mainNav.classList.contains('active')) {
                mainNav.classList.remove('active');
                const icon = mobileMenuBtn.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });
    }
});
</script>
</body>
</html>